(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[456],{8687:function(t,e,a){Promise.resolve().then(a.bind(a,2226)),Promise.resolve().then(a.bind(a,5425)),Promise.resolve().then(a.bind(a,2828))},2226:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return l}});var r=a(7437),n=a(2265);let o=t=>{let e=Math.floor((t=Math.floor(t))/3600),a=Math.floor(t%3600/60),r=t%60;return"".concat(e.toString().padStart(2,"0")," hours ").concat(a.toString().padStart(2,"0")," minutes ").concat(r.toString().padStart(2,"0")," seconds")},c=(()=>{let t=(t,e)=>Math.floor(Math.random()*(e-t+1))+t;return()=>{var e=t(0,360),a=t(42,98),r=t(40,90);return"hsl(".concat(e,",").concat(a,"%,").concat(r,"%)")}})();function l(){let[t,e]=(0,n.useState)({}),[a,l]=(0,n.useState)(0),[s,i]=(0,n.useState)(o(0)),u=(0,n.useRef)(null),h=(0,n.useRef)([]),d=(0,n.useCallback)(()=>{chrome.runtime.sendMessage("lgcppbhmkjaanapiifdjaindpcllghmf",{action:"getTabDataHistory"},a=>{let{data:r}=a;if(console.log("Received tab data history:",r),r&&JSON.stringify(r.tabDataHistory)!==JSON.stringify(t)){let{tabDataHistory:t,totalBrowserTimeSpent:a}=r;e(t||{}),l(a||0),i(o(a))}})},[t]);(0,n.useEffect)(()=>{h.current=p(),d();let t=setInterval(d,1e3);return()=>clearInterval(t)},[d]);let f=(0,n.useCallback)(t=>{let e={},a=0;Object.values(t).forEach(t=>{if("string"==typeof t.url&&""!==t.url){let r=new URL(t.url).hostname.replace("www.","");e[r]=(e[r]||0)+t.totalTimeSpent,a+=t.totalTimeSpent}});let r=Object.keys(e);Object.values(e).reduce((t,e)=>t+e,0);let n=Object.values(e).map(t=>t/a*100);u.current?(u.current.data.labels=r.map((t,a)=>"".concat(t," (").concat(o(e[t]),") - ").concat(n[a].toFixed(2),"%")),u.current.data.datasets[0].data=n,u.current.update()):document.getElementById("pieChart"),l(a),i(o(a))},[]);(0,n.useEffect)(()=>{Object.keys(t).length>0&&f(t)},[f,t]);let p=()=>{let t=[];for(let e=0;e<100;e++)t.push(c());return t};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Chart"}),(0,r.jsxs)("p",{children:["Total Browser Time Spent:"," ","".concat(Math.floor(a/3600).toString().padStart(2,"0")," hours ").concat(Math.floor(a%3600/60).toString().padStart(2,"0")," minutes")]}),(0,r.jsx)("div",{className:"w-[600px] h-[600px]",children:(0,r.jsx)("canvas",{id:"pieChart",width:"400",height:"400"})})]})}}},function(t){t.O(0,[749,985,758,920,8,926,971,938,744],function(){return t(t.s=8687)}),_N_E=t.O()}]);